<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}TNT Reading Teams Tracker{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="TNT Tracker">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="apple-touch-icon" href="/static/icon-192.png">
    <link rel="stylesheet" href="/static/style.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    {% if show_header %}
    <header class="mobile-header">
        <button class="back-btn" onclick="{% if back_url %}window.location.href='{{ back_url }}'{% else %}history.back(){% endif %}">â†</button>
        <h1 class="header-title">{{ page_title or 'TNT Tracker' }}</h1>
        <div class="header-action">{{ header_action|safe if header_action else '' }}</div>
    </header>
    {% endif %}
    
    <nav class="nav-tabs">
        <a href="/" {% if request.endpoint == 'home' %}class="active"{% endif %}>
            <span class="nav-icon">ğŸ </span>
            <span class="nav-text">Home</span>
        </a>
        <a href="/attendance" {% if request.endpoint in ['attendance', 'attendance_details', 'team_attendance_details', 'kid_attendance_details', 'checkin_form'] %}class="active"{% endif %}>
            <span class="nav-icon">ğŸ•</span>
            <span class="nav-text">Attendance</span>
        </a>
        <a href="/progress" {% if request.endpoint == 'progress' %}class="active"{% endif %}>
            <span class="nav-icon">ğŸ“–</span>
            <span class="nav-text">Progress</span>
        </a>
    </nav>

    <main class="main-content{% if show_header %} with-header{% endif %}">
        {% block content %}{% endblock %}
    </main>

    {% block extra_js %}{% endblock %}
</body>
</html>